# Name of the helper function
name: not_exists

metadata:
  description: |
    Checks that the field does not exist.
    If the field exists (with any value), the function evaluates to false. In case of error, the function will evaluate to false.
    This helper function is typically used in the check stage
  keywords:
    - undefined

helper_type: filter
is_variadic: false

# When the field exists, it may hold any JSON type; the filter should fail in those cases
target_field:
  type:
    - number
    - string
    - boolean
    - array
    - object

test:
  - target_field: "hello"
    should_pass: false
    description: Field exists (string)
  - target_field: 0
    should_pass: false
    description: Field exists (number)
  - target_field: []
    should_pass: false
    description: Field exists (array)
  - target_field:
      key: value
    should_pass: false
    description: Field exists (object)
