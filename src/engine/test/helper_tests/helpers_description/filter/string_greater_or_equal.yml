# Name of the helper function
name: string_greater_or_equal

metadata:
  description: |
    Checks whether the string stored in field is lexicographically greater than or equal to the provided value.
    If it is less, the function evaluates to false. In case of error, the function will evaluate to false.
    This helper function is typically used in the check stage
  keywords:
    - string
    - comparison

helper_type: filter
is_variadic: false

# One argument: the value to compare against (can be a literal in docs/tests)
arguments:
  any_string:
    type: string
    generate: string
    source: value

# Target must be a string for a valid comparison
target_field:
  type: string
  generate: string

test:
  - arguments:
      any_string: "hello"
    target_field: "hello"
    should_pass: true
    description: Equal strings → passes
  - arguments:
      any_string: "hello"
    target_field: "world"
    should_pass: true
    description: Target > argument → passes
  - arguments:
      any_string: "def"
    target_field: "abc"
    should_pass: false
    description: Target < argument → fails
  - arguments:
      any_string: "abc"
    target_field: 123
    should_pass: false
    description: Not a string → fails
